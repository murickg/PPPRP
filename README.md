# ПППРП

## Задание 1

Реализовать простое веб приложение, у которого обрабатывает запросы на два endpoint’а : 
* `GET /time` - этот endpoint должен отдавать текущее время
* `GET /statistics` - этот endpoint должен отдавать количество обращений к endpoint’у `/time` в виде одного числа. Соответственно, ваше приложение должно хранить информацию о каждом обращении и отдавать эту информацию по запросу. 
Далее необходимо реализовать скрипт, который будет обращаться к endpoint’у `GET /statistics` и записывать полученный результат в файл. Этот скрипт должен будет вызываться раз в 5 секунд.

### 1 step

Запуск узла minikube:
```bash
minikube start
```

### 2 step

Создание docker-образов и применение манифестов приложения, скрипта и сервиса
```bash
sh dpl.sh
```

### 3 step 

Соединение с нашим LoadBalancer сервисом
```bash
minikube tunnel
```

### 4 step
Во втором терминале получим URL-адрес для подключения к нашему сервису
```bash
minikube service web-service
```
Добавив `/time` или `/statistics` к полученному URL, появится доступ к текущему времени и статистике заходов на сайт  

### 5 step
Чтобы прочитать файл `statistics.txt`, при помощи `kubectl get pods` получим название пода со скриптом.
Дальше вводим 
```bash
kubectl exec -it <pod_with_script_name> -- /bin/bash
cat statistics.txt
```
и получаем доступ к статистике.
